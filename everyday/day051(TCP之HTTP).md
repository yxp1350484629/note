# day051(TCP之HTTP)

1.如果应用层使用HTTP协议，那么传输层必须使用TCP数据流传输,HTTP协议主要是处理网页数据传输

2.HTTP协议的一个流程(**弄清楚**)

客户端为一个浏览器的时候，当我们输入网址，浏览器（应用层)会按照HTTP将网址转化为HTTP的格式传递给传输层，HTTP协议规定传输层必须是TCP数据流，然后传输层与服务端建立连接，传输数据（当然实际上还要经过下面的加首部，逐层到物理层后，物理链路层发送过去，还是要按照HTTP协议的规定，形成HTTP请求)。

服务端物理链路层接收到HTTP请求后，会逐层解析，然后到应用层httpserver,最后整体解析HTTP请求，然后应用层会告知后端的应用程序，应用程序进行逻辑处理，数据处理，磁盘交互（文件，数据库）。然后把数据返回给httpserver。

然后服务端从应用层httpserver经TCP传输层，再逐层向下，到物理链路层，组织成HTTP响应格式，然后返回给客户端，形成HTTP响应，当然我们很多操作只需要在传输层的socket里面处理就行。

这其中的解析什么都正常运行，都是因为双方都遵循了HTTP协议

3.HTTP请求内容（服务器应用层格式）        

注意最终HTTP请求是客户端网址请求经过层层功能后发出。

请求格式：

1.请求行

请求类别  请求内容  协议版本（HTTP1.1）

请求类别：一般为get,post

请求内容:是网页还是图片，视频。注意主网页在浏览器网址的标识是/

2.请求头

对于请求信息的提提内容进行描述，是否是长久连接，请求需要什么等等，相当于python中的说明文档

3.空行

4.请求体

网页上post需要提交的内容,或者是请求参数

4.HTTP响应内容（应用层格式)

HTTP响应最终也是httpserver应用层经过层层功能后发出

响应格式

1.响应体

协议版本 响应码 附加信息（OK）

响应码：1** 自己调试的时候出现，表示成功 2** 表示成功 3**响应需要重定向（还需要转折一下）

4** 客户端（请求方）错误 5** 服务器错误

200成功  401请求内容不存在 401 请求方没有权限访问  500 服务器发生未知错误 503暂时无法执行

2.响应头

对于响应信息进行描述，相当于文档

3.空行

4.响应体

返回什么文件

