# day031

其实在早期的linux，unix系统下，一切皆是文件，键盘输入是文件，打印机是文件

1.sys系统模块的三个文件

stdin,stdout,stderr其实是sys模块下的三个属性变量，是变量不是函数。分别绑定三个对象，键盘输入文件，屏幕输出文件，屏幕错误输出文件

stdin是键盘输入文件，由于它是写入数据，所以只能使用读方法来输出。由于键盘输入永远没有穷尽，所以这个文件是一个无底洞，所以用sys.stdin.read()来读取这个文件所有，会一直让你输入，因为永远读不完，这个更像是你要多少他就能给多少，但是让他输出所有却不行，所以只能用ctrl+d来输入文件末尾符号来结束文件，当然sys.stdin.readline是读取一行，它只要一行，你就输入一行就行了，避免资源浪费。

stdout是屏幕输出文件，无论写什么，都会输出到屏幕上面，所以只需要用写方法就行了

sys.stdout.write('...')

注意print函数中有一个参数是file=sys.stdout 

要我写这个函数就是里面有个 sys.stdout.write(print前面参数组成的数据)

这样就可以直接输出到屏幕了，当前我们可以改变file参数，是不是可以输出到其他文件呢m

stderr和stdout的形式都差不多，只是，stderr输出的是错误文件

其实早期的打印机有两个，一个是专门打印正确文件的打印机，一个是专门打印错误文件的打印机，这个有点借鉴的意思

2.

**计算机文件中存储的都是字节，只是输出的方式不同，默认是以文本的形式输出，因为要给人看，但是可以选择是以字节的形式输出。文件通电后就是以字节的形式读入到操作系统中的，然后分配随即内存。**

**执行python语句，将系统的这些字节流入到python解释器中，然后python解释执行器会将这些字节转化为图片等，默认都是unicode编码识别，但是你可以告诉Python解释器你的字节是那种编码得到的。这也就是文件流，其实文件流的说法更应该是在python中，有字节流和字符流。在python交互模式下输出也是以字符串或者字节串的形式输出，能变成给人看的形式就会输出给人看的形式。在python语句中，以文本文件方式打开也就是读入了字符流，读写都是以字符的形式的，虽然写入到操作系统再到文件都是要转化为字节的，但是在python语句中只能是字符流对应字符操作，字节流对应字节操作（重点总结)**

3.在python语句执行写操作的时候，会先将字符等流入操作系统，转化为字节存储在缓冲区中，当字节未满512是不会写入到文件中的，因为频繁地写入太消耗性能，所以就索性先用筐装着，满了再送过去，但是当执行close的时候，系统认为文件要关闭了，所以不管缓存区有多少，都会存入文件，当然也可以用flush方法，强制性的将缓冲区中的字节存入到文件中，不用等close，在想让文件存入的时候就用。

4.字节流一般只用read和write方法，因为一个个字节没有分行的意义，就直接来就行了

5.在python中写入文件必须以字符串，字节串的形式写入，读写也返回的是字符串和字节串

6.**在python中可以使用文件流随意以字符，字节形式形成流，是无所谓的，因为从操作系统中的字节流入到python，然后python根据想要打开方式进行转化得到字符串或者字节，打开方式是选择字符形式或者字节形式，其实都是将流入的字节进行转化得到，当然默认是用unicode 来得到这些，也可以告诉解释器用gbk等**

**这些都是和计算机文件没啥关系的，因为计算机文件里都是存储的字节，默认输出都是文本形式，想要的时候只是文件读写罢了。**

