# 第二天

1.**对变量与对象的深层了解**

python中一切皆为对象，一个对象的特征也称为属性（attribute）。它所具有的行为也称为方法（method） 
Python中的对象包含三要素：id、type、value 
其中id用来唯一标识一个对象， 
type标识对象的类型， 
value是对象的值 
is判断的是a对象是否就是b对象，是通过id来判断的 

==判断的是a对象的值是否和b对象的值相等，是通过value来判断的 

### 变量与对象（对象是存储，变量相当于指针在引用）

- **对象** ：内存中存储数据的实体，Python中一切皆是对象，函数也是对象；

- **变量** ：对对象的引用，指向对象的指针，变量与对象是分开的；

  ### 可变对象与不可变对象

  不可变对象 ：该对象对应内存中的值不会变，因此如果指向该对象的变量被改变了，会重新开辟一片地址，变量再指向这个新的地址；如：int，float，str，tuple；

  可变对象 ：该对象对应内存中的值可以被改变，因此变量改变后，该对象也被改变，即原地改变。如：list，dict，set；

- 心得：对象有三要素，id是内存地址，也是一个标识，是最重要的区分是不是相同对象的关键。当一个对象的值变化，而id不变化，那么它是一个可变对象，如列表以及列表中的对象。a[0]也是一个对象，他们的id各不相同，但是值可以随意变化。



```python
>>> x = 4
>>> x = 5
>>> x
5
```

变量x先指向了对象4，然后指向对象5，自动跟第一个对象4解除关系。再看x，引用的对象就是5了。那么4呢？一旦没有变量引用它了，便成了垃圾，python有一个自动的垃圾收回机制。 

深拷贝与浅拷贝
不可变对象无论深浅拷贝其地址都一样；
可变对象以list举例，分三种情况：

1直接赋值：仅仅拷贝了引用，因此原list改变，拷贝的也改变；
2浅拷贝：拷贝了最外围对象本身，内部元素拷贝其引用，使用copy；（并未拷贝内围，相当于只重置了列表这个数据结构的id，里面的a[0]的id并未变化）

3.深拷贝：外围内围都拷贝对象本身，非引用，前后完全隔离，使用deepcopy；

```python
>>> import copy
>>> a = [1,2,[1,2]]
>>> b = a #直接赋值
>>> c = copy.copy(a) #浅拷贝
>>> d = a[:] #相当于浅拷贝
>>> e = copy.deepcopy(a) #深拷贝
>>> a.append(3)
>>> a
[1, 2, [1, 2], 3]
>>> b #直接赋值的跟随改变
[1, 2, [1, 2], 3]
>>> c #浅拷贝外围为拷贝，因此不变
[1, 2, [1, 2]]
>>> d #同c
[1, 2, [1, 2]]
>>> e #深拷贝内外都不变
[1, 2, [1, 2]]
>>> a[2].append(3)
>>> a
[1, 2, [1, 2, 3], 3]
>>> b #直接赋值的跟随改变
[1, 2, [1, 2, 3], 3]
>>> c #浅拷贝内部拷贝的是应用，跟随改变
[1, 2, [1, 2, 3]]
>>> d #同c
[1, 2, [1, 2, 3]]
>>> e #深拷贝内外都不变
[1, 2, [1, 2]]

```

2.**哈希与不可改变**

如果一个对象（数据结构，数值等）是值改变，id也改变，则是可哈希的，就是id不变,值不变 比如字符串，int,float

如果一个对象值改变,id也改变，则说明是不可哈希。












